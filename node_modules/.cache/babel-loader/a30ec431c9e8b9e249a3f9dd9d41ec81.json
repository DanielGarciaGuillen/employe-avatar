{"ast":null,"code":"// based on the qs module, but handles null objects as expected\n// fixes by Tomas Pollak.\nvar stringify = function (obj, prefix) {\n  if (obj === null || typeof obj == 'undefined') {\n    return prefix + '=';\n  } else if (obj.constructor == Array) {\n    return stringifyArray(obj, prefix);\n  } else if (typeof obj == 'object') {\n    return stringifyObject(obj, prefix);\n  } else if (prefix) {\n    // string inside array or hash\n    return prefix + '=' + encodeURIComponent(String(obj));\n  } else {\n    throw new TypeError('Object expected.');\n  }\n};\n\nfunction stringifyArray(arr, prefix) {\n  var ret = [];\n\n  for (var i = 0, len = arr.length; i < len; i++) {\n    ret.push(stringify(arr[i], prefix + '[]'));\n  }\n\n  return ret.join('&');\n}\n\nfunction stringifyObject(obj, prefix) {\n  var ret = [];\n  Object.keys(obj).forEach(function (key) {\n    ret.push(stringify(obj[key], prefix ? prefix + '[' + encodeURIComponent(key) + ']' : encodeURIComponent(key)));\n  });\n  return ret.join('&');\n}\n\nexports.build = stringify;","map":null,"metadata":{},"sourceType":"script"}